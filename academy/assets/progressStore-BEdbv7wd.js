import{c as y,p as x}from"./index-BBQRhfSi.js";import{c as f}from"./state-DF3Lb9FH.js";const C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],w=y("target",C);const j=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],M=y("trending-up",j),I=f()(x((l,k)=>({streak:0,lastPracticeDate:null,totalQuestionsSolved:0,recentTestIds:[],recentTestIdsByTrack:{},subjectMastery:[{subject:"mathematics",examTrack:"ncdpi",mastery:0,testsCompleted:0},{subject:"english",examTrack:"ncdpi",mastery:0,testsCompleted:0},{subject:"science",examTrack:"ncdpi",mastery:0,testsCompleted:0},{subject:"social_studies",examTrack:"ncdpi",mastery:0,testsCompleted:0},{subject:"mathematics",examTrack:"nceog",mastery:0,testsCompleted:0},{subject:"english",examTrack:"nceog",mastery:0,testsCompleted:0},{subject:"science",examTrack:"nceog",mastery:0,testsCompleted:0},{subject:"social_studies",examTrack:"nceog",mastery:0,testsCompleted:0}],updateProgress:(t,n,o,s="ncdpi")=>{const c=new Date().toISOString().split("T")[0],{lastPracticeDate:i,streak:a,subjectMastery:T,totalQuestionsSolved:g}=k();let d=a;if(!i)d=1;else{const e=new Date(i),r=(new Date(c).getTime()-e.getTime())/(1e3*3600*24);r===1?d+=1:r>1&&(d=1)}let m=!1;const p=T.map(e=>{const u=(e.examTrack||"ncdpi")===s;if(e.subject===t&&u){m=!0;const r=e.testsCompleted+1,b=Math.round((e.mastery*e.testsCompleted+n)/r);return{...e,examTrack:s,mastery:b,testsCompleted:r}}return{...e,examTrack:e.examTrack||"ncdpi"}});m||p.push({subject:t,examTrack:s,mastery:Math.round(n),testsCompleted:1}),l({streak:d,lastPracticeDate:c,totalQuestionsSolved:g+o,subjectMastery:p})},incrementStreak:()=>l(t=>({streak:t.streak+1})),addTestId:(t,n="ncdpi")=>l(o=>{const s=String(n||"ncdpi").toLowerCase(),c=o.recentTestIdsByTrack||{},i=Array.isArray(c[s])?c[s]:[];return{recentTestIds:[...o.recentTestIds.filter(a=>a!==t),t].slice(-10),recentTestIdsByTrack:{...c,[s]:[...i.filter(a=>a!==t),t].slice(-10)}}})}),{name:"student-progress-storage"}));export{w as T,M as a,I as u};
